<div class="modal-header">
  <h3 class="modal-title">Edit Contact Details</h3>
</div>

<div class="modal-body">
  <form id="addOrganisationForm" name="addOrganisationForm" novalidate class="simple-form form-horizontal" role="form" >

    <div class="form-group">
      <label id="isniLabel" for="isni" class="span-3 control-label" aria-label="Org ID">ISNI</label>
      <div class="span-3">
        <kint-identifier data-property="identifiers" data-namespace="isni" class="form-control" id="isni" name="isni" aria-labelledby="isniLabel" data-ng-model="contactDetails.organisation.identifiers" ></kint-identifier>
      </div>
    </div>

    <div class="form-group">
      <label id="ringgoldLabel" for="ringgold" class="span-3 control-label" aria-label="Org ID">Ringgold</label>
      <div class="span-3">
        <kint-identifier data-property="identifiers" data-namespace="ringgold" class="form-control" id="ringgold" name="ringgold" aria-labelledby="isniLabel" data-ng-model="contactDetails.organisation.identifiers" ></kint-identifier>
      </div>
    </div>

    <div class="form-group" data-ng-class="{'has-error': (organisation.name.$dirty && organisation.name.$invalid), 'has-success': (organisation.name.$dirty && organisation.name.$valid)}" >
      <label id="nameLabel" for="name" class="span-3 control-label" aria-label="Organisation Name" >Organisation Name*</label>
      <div class="span-9">
        <input type="text" class="form-control" id="name" name="name" placeholder="Organisation name" aria-labelledby="nameLabel"
               data-ng-model="contactDetails.organisation.name" data-ng-model-options="{ updateOn: 'default', debounce: { default: 650} }"
               data-kint-ui-input-feedback data-kint-validate required />
        <div data-ng-if="organisation.name.$dirty" data-ng-messages="organisation.name.$error" class="help-block" role="alert">
          <p data-ng-message="required">Please enter a name</p>
          <p data-ng-message="kintValidate">{{organisation.name.kintValidate.message}}</p>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label id="orgAddressLabel" for="address" class="span-3 control-label" aria-label="Org Address">Organisation Address</label>
      <div class="span-9">
              <textarea type="text" class="form-control" id="address" name="address" placeholder="Address" aria-labelledby="orgAddressLabel"
                        data-ng-model="contactDetails.organisation.address"></textarea>
      </div>
    </div>

    <div class="form-group">
      <label id="orgTaxCodeLabel" for="taxCode" class="span-3 control-label" aria-label="Org Tax Code">Organisation VAT/Tax Code</label>
      <div class="span-5">
        <input type="text" class="form-control" id="taxCode" name="taxCode" placeholder="Tax Code" aria-labelledby="orgTaxCodeLabel"
               data-ng-model="contactDetails.organisation.taxCode"  />
      </div>
    </div>

    <div class="form-group" data-ng-class="{'has-error': (organisation.type.$dirty && organisation.type.$invalid), 'has-success': (organisation.type.$dirty && organisation.type.$valid)}">
      <label id="orgTypeLabel" for="type" class="span-3 control-label" aria-label="Org Type">Organisation Type*</label>
      <div class="span-9">
        <kint-refdata-lookup name="type" id="type" data-object="contactDetails.organisation" data-property="type" class="form-control input-sm" required >
      </div>
    </div>

    <div class="form-group" data-ng-if="context.type.value === 'Funder'" data-ng-class="{'has-error': (organisation.fundingGroup.$dirty && organisation.fundingGroup.$invalid), 'has-success': (organisation.fundingGroup.$dirty && organisation.fundingGroup.$valid)}">
      <label id="orgFundingGroupLabel" for="fundingGroup" class="span-3 control-label" aria-label="Org Funding Group">Funding Group</label>
      <div class="span-9">
        <kint-refdata-lookup name="fundingGroup" id="fundingGroup" data-object="contactDetails.organisation" data-property="fundingGroup" class="form-control input-sm" >
      </div>
    </div>

    <div class="form-group">
      <div class="span-12" >
        <button type="button" ng-click="$dismiss()" class="btn btn-default btn-sm" >
          Cancel
        </button>
        <button type="button" ng-click="$close()" class="btn btn-success btn-sm" data-ng-disabled="!addOrganisationForm.$dirty || addOrganisationForm.$invalid" >
          Save
        </button>
      </div>
    </div>
  </form>
</div>
