<section id="grant-grid" class="inner tab-content">
  <form id="grant" name="person" class="row" >
    <article class="span-12" data-ui-view>
      <div class="panel panel-collapsible panel-default">
        <div class="panel-heading">
          <h3 data-toggle="collapse" data-target="#grant-body" aria-label="Expand/Collapse the main Grant content" id="grant-heading">Grant details</h3>
        </div>
        <div id="grant-body" class="panel-body form-horizontal in" aria-labelledby="grant-heading">

          <div class="form-group form-group-sm">
            <label id="grantCodeLabel" for="grantCode" class="control-label span-3" aria-label="Grant Code">Grant code*</label>
            <div class="span-3">
              <input type="text" class="form-control" id="grantCode" name="grantCode" aria-labelledby="grantCodeLabel"
                     data-ng-model="context.code" data-kint-validate required />
            </div>

            <label id="grantInternalCodeLabel" for="grantInternalCode" class="control-label span-3" aria-label="Grant ">Internal project code</label>
            <div class="span-3">
              <input type="text" class="form-control" id="grantInternalCode" name="grantInternalCode" aria-labelledby="grantInternalCodeLabel"
                     data-ng-model="context.internalCode" data-kint-validate />
            </div>
          </div>

          <div class="form-group form-group-sm" data-ng-class="{'has-error': (grant.name.$dirty && grant.name.$invalid), 'has-success': (grant.name.$dirty && grant.name.$valid)}" >
            <label id="nameLabel" for="name" class="span-3 control-label" aria-label="Grant Name" >Grant Name*</label>
            <div class="span-9">
              <!--<kint-component-lookup name="name" id="name" data-object="context" data-property="name" data-template="name" class="form-control input-sm" required >-->
              <input type="text" class="form-control" id="name" name="name" placeholder="Grant name" aria-labelledby="nameLabel"
                     data-ng-model="context.name" data-ng-model-options="{ updateOn: 'default', debounce: { default: 650} }"
                     data-kint-ui-input-feedback data-kint-validate required />
              <div data-ng-if="grant.name.$dirty" data-ng-messages="grant.name.$error" class="help-block" role="alert">
                <p data-ng-message="required">Please enter a name</p>
                <p data-ng-message="kintValidate">{{grant.name.kintValidate.message}}</p>
              </div>
            </div>
          </div>

          <div class="form-group form-group-sm">
            <label id="groupLabel" for="group" class="control-label span-3" aria-label="Funder Group">Funder group</label>
            <div class="span-9">
              <kint-refdata-lookup name="group" id="group" data-object="context.funder" data-property="group" class="form-control input-sm" >
            </div>
          </div>

          <div class="form-group form-group-sm">
            <label id="funderLabel" for="funder" class="control-label span-3" aria-label="Funder">Funder</label>
            <div class="span-9">
              <input type="text" class="form-control" id="funder" name="funder" placeholder="Funder" aria-labelledby="funderLabel"
                     data-ng-model="context.funder.name" data-ng-model-options="{ updateOn: 'default', debounce: { default: 650} }"
                     data-kint-ui-input-feedback data-kint-validate required />
            </div>
          </div>

        </div>
      </div>
    </article>

    <div class="form-group pull-right">
      <button type="button" class="btn btn-success" data-ng-click="saveChanges()" data-ng-disabled="grant.$invalid" >Save</button>
      <button type="button" class="btn btn-link" >Cancel</button>
    </div>

  </form>
</section>
